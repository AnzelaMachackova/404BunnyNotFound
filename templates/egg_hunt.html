{% extends "base.html" %}
{% block content %}
<html>
<head><title>🐣 Egg Hunt</title></head>
<body>
    <p>Guess which egg has the prize!</p>
    <form method="POST">
        <div class="egg-grid">
    
            {% set guessed = guessed|default(None)|int %}
            {% set winning_egg = winning_egg|default(None)|int %}

    
            {% set class1 = 'correct-guess' if guessed == 1 and guessed == winning_egg
                            else 'incorrect-guess' if guessed == 1 and guessed != winning_egg
                            else 'winner' if guessed is not none and winning_egg == 1
                            else '' %}
    
            <button type="submit" name="guess" value="1" class="{{ class1 }}">
                <img src="{{ url_for('static', filename='eggs/egg1.png') }}" width="100">
            </button>
    
            {% set class2 = 'correct-guess' if guessed == 2 and guessed == winning_egg
                            else 'incorrect-guess' if guessed == 2 and guessed != winning_egg
                            else 'winner' if guessed is not none and winning_egg == 2
                            else '' %}
    
            <button type="submit" name="guess" value="2" class="{{ class2 }}">
                <img src="{{ url_for('static', filename='eggs/egg2.png') }}" width="100">
            </button>
    
            {% set class3 = 'correct-guess' if guessed == 3 and guessed == winning_egg
                            else 'incorrect-guess' if guessed == 3 and guessed != winning_egg
                            else 'winner' if guessed is not none and winning_egg == 3
                            else '' %}
    
            <button type="submit" name="guess" value="3" class="{{ class3 }}">
                <img src="{{ url_for('static', filename='eggs/egg3.png') }}" width="100">
            </button>
    
            {% set class4 = 'correct-guess' if guessed == 4 and guessed == winning_egg
                            else 'incorrect-guess' if guessed == 4 and guessed != winning_egg
                            else 'winner' if guessed is not none and winning_egg == 4
                            else '' %}
    
            <button type="submit" name="guess" value="4" class="{{ class4 }}">
                <img src="{{ url_for('static', filename='eggs/egg4.png') }}" width="100">
            </button>
    
            {% set class5 = 'correct-guess' if guessed == 5 and guessed == winning_egg
                            else 'incorrect-guess' if guessed == 5 and guessed != winning_egg
                            else 'winner' if guessed is not none and winning_egg == 5
                            else '' %}
    
            <button type="submit" name="guess" value="5" class="{{ class5 }}">
                <img src="{{ url_for('static', filename='eggs/egg5.png') }}" width="100">
            </button>
    
        </div>
    </form>

    {% if result %}
    <p>{{ result }}</p>
    <a href="{{ url_for('egg_hunt', reset='true') }}">
      <button type="button">Try Again</button>
    </a>
  {% endif %}
</body>
</html>
{% endblock %}